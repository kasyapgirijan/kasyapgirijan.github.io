---
title: Home Lab Series | Part 2 | Hardening SSH login  
date: 2023-12-02 15:00:00 +0530
categories: [Blogging, Tutorial, Home Lab Series]
tags: [Raspberry Pi, Write Up] 
pin: false
math: true
mermaid: true
author: 7h3h0und
image:
  path: /assets/img/headers/HLSP2_SSH.jpeg  
  lqip: data:image/jpeg;base64,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
---

If you're utilizing SSH for device access, is it secure? The questions you may ask yourself: is your SSH login robust? Are default accounts in use? Is your device exposed to the internet, potentially vulnerable to prying eyes?  Consider the digital fingerprint you leave across the web; an attacker, through OSINT, might compile a wordlist to exploit weak passwords via a dictionary attack.

This article delves into best practices to harden your device’s SSH login.

# Steps

1. Limiting SSH Access        
2. Modifying SSH config 

## Limiting SSH Access

Why limit the SSH access?
>You may not need to provide SSH login access to all accounts on your device(s). For example, enabling SSH login for the root account with a weak password could potentially expose vulnerabilities, allowing attackers to brute force their way into the account or guess the password. 

By default the pi user or user account that created while customization doesn’t require a password while elevating itself to root.

### Create a new user

While logged in with your default account enter the following commands to create a user. I do recommend using a complex password with minimum 14 characters or more in length.

``` bash 
sudo adduser <username>
```
>Example `sudo adduser testuser`
{: .prompt-info }

### Disabling Default account

Once you have a new account created lets go ahead and disable the default pi account 

>Do test out your login with new user account before disabling `pi` user.
{: .prompt-warning }

``` bash 
sudo usermod --lock --expiredate 1 pi
```

### Create user group 

We will create a user group specific for SSH login. This will allow you to  add users under the group whom you want to have SSH access. 

>Creating different user groups for different role based purpose helps in managing and limiting users access to the system. This approach is called as 
role-based access control (RBAC)
{: .prompt-tip } 

Enter the following commands to create a user:

``` bash
sudo groupadd <groupame> 
```
>Example: `sudo groupadd sshgroup`
{: .prompt-info }

You can add users to the group by entering the command below.

``` bash
sudo usermod -aG <groupname> <username> 
```

>Example: `sudo usermod -aG sshgroup testuser`
{: .prompt-info }


### Setting up Key-based Authentication
Using keys, for SSH (Se­cure Shell) is a safer and easier alternative to password authentication. Instead of relying on a password for access, the key-based login method relies on cryptographic keys. We generate a pair of cryptographic keys: one private, and one public. The private key stays with the client system. The public key goes to the server/system.

####  Generating SSH Key Pair:
On your local host machine (client), on a terminal window enter the following command to generate an SSH key pair

``` bash
ssh-keygen -t ed25519 -a 600
```
>`-t ed25519`: Specifies the type of key to create, in this case, an Ed25519 key. Ed25519 is a type of elliptic curve cryptography and is considered secure and efficient.
{: .prompt-info }
>`-a 600`:  Specifies the number of key derivation function (KDF) rounds. 
{: .prompt-info }

#### Copy Public Key to Server:

Use the following command to copy your public key to the remote server. Replace user with your actual `username` and `server_ip`

``` bash
ssh-copy-id -i <pub key> <username>@<server_ip>
```

>Test your SSH connection by connecting to your server `ssh username@server_ip`
{: .prompt-tip }

## Modifying SSH config 
Modifying ssh configurations ensure to an access control is in place basically what’s allowed and how you can connect to your server. The main configuration file for the SSH daemon is typically located at /etc/ssh/sshd_config on Linux systems. In our case Raspbian is a linux OS :P

#### Disabling Root Login:

Disabling root login is generally recommended. Instead, use a regular user account and then switch to the root user using sudor or a similar mechanism after logging in.

``` bash 
PermitRootLogin no
```
#### Diabling Password Authentication:
Disabling password authentication in favor of key-based authentication enhances security by reducing the risk of brute-force attacks.

``` bash 
PasswordAuthentication no
```

#### Allowing only users from a Group(s):

Limit SSH access to specific groups. This helps in controlling who can connect to the server.

``` bash
AllowGroups sshgroup
```
#### Port:

Changing the default SSH port (22) can help mitigate automated attacks targeting the default port. However, be cautious with this change to avoid locking yourself out.

``` bash
Port: 2299
```
#### PermitEmptyPasswords:

Ensure that empty passwords are not allowed to enhance security.

``` bash 
PermitEmptyPasswords no
```

#### PubkeyAuthentication:

Confirm that public key authentication is enabled. This is a more secure method compared to password authentication.

``` bash 
PubkeyAuthentication yes
```
#### Protocol:

Ensure that you're using SSH protocol version 2, as it includes security improvements over version 1.
``` bash 
Protocol 2
```

#### UsePAM:

Use PAM (Pluggable Authentication Modules) for additional authentication and session management. This is generally enabled by default and is really optional to set up a PAM solution for your DIY homeserver. In this case we do not need a PAM solution hence having it disabled.  

``` bash 
UsePAM no 
```
> If you are integrating a PAM solution, set the option to `UsePAM yes`
{: .prompt-info }

#### X11Forwarding:

X11 forwarding allows graphical applications to be run on a remote server but displayed on your local machine. While X11 forwarding can be useful, it also introduces potential security risks, especially if you are connecting to untrusted servers.

``` bash 
X11Forwarding no
```

#### Enable Connection Timeouts

This is to enhance the security of your SSH server, you can configure connection timeouts to automatically terminate idle SSH connections after a certain period. This helps to mitigate the risk of unauthorized access and potential security threats.

With the below configurations, the server will send keep alive message to client every 100 seconds and will terminate the session after 3 attempts. This configuration will disconnect unresponsive SSH clients after approximately 5 minutes. 

``` bash
ClientAliveInterval 100
ClientAliveCountMax 3
```

> `ClientAliveInterval` Set the interval at which the server will send a keep-alive message to the client (in seconds).
{: .prompt-info }
>`ClientAliveCountMax` Set the maximum number of client alive messages the server will send before disconnecting the client.
{: .prompt-info }

After making the changes, restart the SSH service for the configuration to take effect :).
``` bash 
sudo systemctl restart ssh.

```
